# tests.calc â€“ regression tests for calc

# ---- Literals ----
123
3.14
"hello"
T
F

# ---- Arithmetic ----
1 + 2
2 * 3 + 4
(1 + 2) * 3
10 / 2
10 % 3
3.5 + 1.5
5 - 7

# ---- Comparison ----
1 == 1
1 != 2
3 < 4
5 > 2
4 <= 4
6 >= 7

# ---- Logic ----
T and F
T or F
not F
# Constants

const a : int := 42
a
a + 10

const b : float := 2.5
b * 2.0

# ---- Let binding (scoping) ----
let x := 5 in x + 2
# Nesting
let x := 10 in (let y := x * 2 in y + 1)
# Shadowing
let x := 1 in (let x := 2 in x) + x

# ---- Functions ----
let add := (\x -> x + 1) in add(1)

const square := (\x -> x * x)
square(10)
# (fun id(x : int) -> int in id(99))

# ---- Lambda ----
(\x -> x + 1)(5)
(\x -> ( \y -> x + y)(2))(3)

# ---- If / then / else ----
if T then 1 else 0
if F then 1 else 0
if (3 < 4) then 100 else 200
# ---- Errors (should report gracefully) ----
a + "foo"          # type mismatch
unknownVar + 1     # undefined symbol
1 / 0              # division by zero (if supported)
